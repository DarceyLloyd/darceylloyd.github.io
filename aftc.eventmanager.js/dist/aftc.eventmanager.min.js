function log(n){console&&console.log(n)}window.isNode=function(n){return"object"==typeof Node?n instanceof Node:n&&"object"==typeof n&&"number"==typeof n.nodeType&&"string"==typeof n.nodeName},window.isElement=function(n){return"object"==typeof HTMLElement?n instanceof HTMLElement:n&&"object"==typeof n&&null!==n&&1===n.nodeType&&"string"==typeof n.nodeName};var lazyLog=!0;window.log=function(n){console&&lazyLog&&console.log(n)},window.logEnable=function(){lazyLog=!0,log("log() is now enabled.")},window.logDisable=function(){lazyLog=!1,log("log() is now disabled.")},window.trace=function(n){console&&console.trace(n)},window.logTo=function(n,e){var o=document.getElementById(n);if(o)if("object"==typeof e){var t="<br>";o.innerHTML+=t;for(var i in e)t=i+" = "+e[i]+"<br>",o.innerHTML+=t}else o.innerHTML+=e},window.debugWindow=function(n){var e=window.open("debug","debug","width=1200,height=400,resizeable,scrollbars");e.document.title="Debug",e.document.write("<style>body {width:100%;}</style>"),e.document.write("<div style='display:block;width:98%;-ms-word-wrap:break-word ;word-wrap:break-word;border:1px solid #000000;'>"+n+"</div>"),e.document.close()},window.stringToDebugWindow=function(n){debugWindow(n)},window.stringToPopup=function(n){debugWindow(n)},window.stringToWindow=function(n){debugWindow(n)};var AFTC=AFTC||{};AFTC.EventManager=function(){function n(n){for(var e=0;e<r.events.length;e++)if(r.events[e].id==n)return r.events[e];return!1}function e(e,o){""!=e&&e&&void 0!=e&&null!=e&&"string"==typeof e||console.error("AFTC.EventManager.add(): Unable to add an event ID of ["+e+"], strings only (which are not empty)!"),"function"!=typeof o&&console.error("AFTC.EventManager.add(): Unable to add event! Dispatch function is not a function or not supplied!");var t=n(e);t?console.error("AFTC.EventManager.add(id,dispatchFunction): Event id ["+e+"] already exists!"):(t={id:e,dispatchFunction:o},r.events.push(t),log("AFTC.EventManager.add(id,dispatchFunction): Event id ["+e+"] has been added."))}function o(e){""!=e&&e&&void 0!=e&&null!=e&&"string"==typeof e||console.error("AFTC.EventManager.remove(arg_id): Unable to add an event ID of ["+e+"], strings only (which are not empty)!");var o=n(e);o&&r.events.splice(o.index,1)}function t(){for(var n=0;n<r.events.length;n++)r.events[n]=null,delete r.events[n];r.events=null,delete r.events,r.events=[]}function i(e){""!=e&&e&&void 0!=e&&null!=e&&"string"==typeof e||console.error("AFTC.EventManager.add(): Unable to add an event ID of ["+e+"], strings only (which are not empty)!");var o=n(e);o?o.dispatchFunction():console.error("AFTC.EventManager.dispatch(): Unable to find an event of ID ["+e+"]!")}var r={version:"1.0.1",events:[]};return{getEventById:function(e){return n(e)},add:function(n,o){return e(n,o)},remove:function(n){return o(n)},dispatch:function(n){return i(n)},getEvents:function(){return r.events},removeAll:function(){return t(),r.events}}};